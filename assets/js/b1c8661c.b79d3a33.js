"use strict";(self.webpackChunkcontrolpanel=self.webpackChunkcontrolpanel||[]).push([[46],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(t),m=r,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return t?a.createElement(h,o(o({ref:n},c),{},{components:t})):a.createElement(h,o({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=t[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2017:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var a=t(7462),r=t(3366),i=(t(7294),t(3905)),o=["components"],l={sidebar_position:6},s="Updating v0.6.2 to v0.7",u={unversionedId:"Installation/updatingv6-v7",id:"Installation/updatingv6-v7",isDocsHomePage:!1,title:"Updating v0.6.2 to v0.7",description:"Enable Maintenance Mode",source:"@site/docs/Installation/updatingv6-v7.md",sourceDirName:"Installation",slug:"/Installation/updatingv6-v7",permalink:"/docs/Installation/updatingv6-v7",editUrl:"https://github.com/ControlPanel-gg/docs/tree/main/docs/docs/Installation/updatingv6-v7.md",version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Updating",permalink:"/docs/Installation/updating"},next:{title:"Contributing",permalink:"/docs/Contributing/contributing"}},c=[{value:"Enable Maintenance Mode",id:"enable-maintenance-mode",children:[]},{value:"Pulling the New Files",id:"pulling-the-new-files",children:[]},{value:"Update Dependencies",id:"update-dependencies",children:[]},{value:"Set Permissions",id:"set-permissions",children:[]},{value:"Restarting Queue Workers",id:"restarting-queue-workers",children:[]},{value:"Disable Maintenance Mode",id:"disable-maintenance-mode",children:[]},{value:"Running the installer",id:"running-the-installer",children:[]},{value:"Clear Compiled Template Cache",id:"clear-compiled-template-cache",children:[]},{value:"Disclaimer",id:"disclaimer",children:[]}],p={toc:c};function d(e){var n=e.components,t=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"updating-v062-to-v07"},"Updating v0.6.2 to v0.7"),(0,i.kt)("h3",{id:"enable-maintenance-mode"},"Enable Maintenance Mode"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cd /var/www/controlpanelgg\nsudo php artisan down\n")),(0,i.kt)("h3",{id:"pulling-the-new-files"},"Pulling the New Files"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo git stash\nsudo git pull\nsudo chmod -R 755 /var/www/controlpanelgg\n")),(0,i.kt)("h3",{id:"update-dependencies"},"Update Dependencies"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo composer install --no-dev --optimize-autoloader\n")),(0,i.kt)("h3",{id:"set-permissions"},"Set Permissions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# If using NGINX or Apache (not on CentOS):\nsudo chown -R www-data:www-data /var/www/controlpanelgg/\n\n# If using NGINX on CentOS:\nsudo chown -R nginx:nginx /var/www/controlpanelgg/\n\n# If using Apache on CentOS\nsudo chown -R apache:apache /var/www/controlpanelgg/\n")),(0,i.kt)("h3",{id:"restarting-queue-workers"},"Restarting Queue Workers"),(0,i.kt)("p",null,"After every update you should restart the queue worker to ensure that the new code is loaded in and used."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan queue:restart\n")),(0,i.kt)("h3",{id:"disable-maintenance-mode"},"Disable Maintenance Mode"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan up\n")),(0,i.kt)("h3",{id:"running-the-installer"},"Running the installer"),(0,i.kt)("p",null,"It is recommended, to run the installer after this big update."),(0,i.kt)("h4",{id:"navigate-to-httpsyourdomaincominstall-to-run-the-web-installer-and-follow-the-steps"},'Navigate to "',(0,i.kt)("a",{parentName:"h4",href:"https://yourdomain.com/install%22"},'https://yourdomain.com/install"')," to run the Web-Installer and follow the steps."),(0,i.kt)("p",null,"All settings previously specified in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),'file, are now editable through the Panel itself on the "Settings"-Tab'),(0,i.kt)("h4",{id:"alternative"},"Alternative"),(0,i.kt)("p",null,"You can also skip the installation via the installer by running these commands"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan migrate --seed --force\n")),(0,i.kt)("h3",{id:"clear-compiled-template-cache"},"Clear Compiled Template Cache"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan view:clear\nsudo php artisan config:clear\n")),(0,i.kt)("h2",{id:"disclaimer"},"Disclaimer"),(0,i.kt)("p",null,"Warning, The dashboard is currently in pre-release and may contain some bugs \ud83d\udc1b ",(0,i.kt)("br",null),"\nUse This dashboard at your own risk."),(0,i.kt)("p",null,"If you notice any bugs or would like something to be improved or added, let us know by making a ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ControlPanel-gg/dashboard/issues/new/choose"},"GitHub Issue"),(0,i.kt)("br",null)," for any major security risk contact ",(0,i.kt)("em",{parentName:"p"},"AVMG#1234")))}d.isMDXComponent=!0}}]);